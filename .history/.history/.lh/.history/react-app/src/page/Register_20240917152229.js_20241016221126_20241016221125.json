{
    "sourceFile": ".history/react-app/src/page/Register_20240917152229.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1729090226714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1729090226714,
            "name": "Commit-0",
            "content": "import { Link } from 'react-router-dom';\r\n\r\nfunction Register() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate();\r\n    const handleSubmit = async (event) => {\r\n      event.preventDefault();\r\n      if(password != confirmPassword) {\r\n        setError('รหัสผ่านไม่ตรงกัน กรุณากรอกใหม่');\r\n  \r\n        return;\r\n  \r\n      } else {\r\n  \r\n      try {\r\n  \r\n        const response = await axios.post('http://localhost:3000/register', {\r\n  \r\n          email,\r\n  \r\n          password,\r\n  \r\n          name\r\n  \r\n        });\r\n  \r\n        console.log('User registered:', response.data);\r\n  \r\n        // Redirect or clear form here after success\r\n  \r\n        alert('สมัครสมาชิก : ' + response.data);\r\n  \r\n        setEmail('');\r\n  \r\n        setPassword('');\r\n  \r\n        setName('');\r\n  \r\n        navigate('/login');\r\n  \r\n      } catch (error) {\r\n  \r\n        setError(error.response.data);\r\n  \r\n        console.error('Registration error:', error.response.data);\r\n  \r\n      }\r\n  \r\n    }\r\n  \r\n    };\r\n    \r\n\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-red-200\">\r\n      <div className=\"max-w-md w-full mx-auto\">\r\n        <div className=\"text-3xl font-bold text-gray-900 mt-2 text-center\">Register</div>\r\n\r\n        <div className=\"p-8 bg-white mt-6 rounded-lg shadow-md\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"mb-5\">\r\n              <label htmlFor=\"email\" className=\"block mb-2 text-sm font-medium text-gray-600\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email\"\r\n                className=\"block w-full p-3 rounded bg-gray-200 border border-transparent focus:outline-none focus:border-indigo-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-5\">\r\n              <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-gray-600\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                className=\"block w-full p-3 rounded bg-gray-200 border border-transparent focus:outline-none focus:border-indigo-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-5\">\r\n              <label htmlFor=\"confirm-password\" className=\"block mb-2 text-sm font-medium text-gray-600\">Confirm Password</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"confirm-password\"\r\n                className=\"block w-full p-3 rounded bg-gray-200 border border-transparent focus:outline-none focus:border-indigo-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-5\">\r\n              <label htmlFor=\"name\" className=\"block mb-2 text-sm font-medium text-gray-600\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"name\"\r\n                className=\"block w-full p-3 rounded bg-gray-200 border border-transparent focus:outline-none focus:border-indigo-500\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full p-3 mt-4 bg-[#ff2800] text-white rounded hover:bg-[#cc0000]\"\r\n            >\r\n              Register\r\n            </button>\r\n\r\n            <p>\r\n              <Link to=\"/login\" className=\"mt-5 text-center block text-blue-800 hover:underline\">เข้าสู่ระบบ</Link>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"
        }
    ]
}